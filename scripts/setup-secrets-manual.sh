#!/bin/bash
# GitHub Secrets 수동 설정 가이드

cat << 'EOF'
════════════════════════════════════════════════════════════════
  GitHub Secrets 설정 가이드
════════════════════════════════════════════════════════════════

📍 저장소: https://github.com/yumikang/misopin-cms/settings/secrets/actions

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🔐 서버 접속 정보
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Name: SERVER_HOST
Value: 141.164.60.51

Name: SERVER_USER
Value: root

Name: SERVER_SSH_KEY
Value: (아래 명령어 실행 후 전체 복사)
       cat ~/.ssh/id_ed25519

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📦 환경 변수 (.env.local에서 복사)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

EOF

# .env.local 파일 읽기
if [ -f .env.local ]; then
    echo "현재 .env.local 내용:"
    echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
    cat .env.local | while IFS='=' read -r key value; do
        if [[ ! $key =~ ^#.*$ ]] && [ -n "$key" ]; then
            echo ""
            echo "Name: $key"
            echo "Value: $value"
        fi
    done
    echo ""
    echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
else
    echo "⚠️  .env.local 파일이 없습니다!"
fi

echo ""
echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
echo "🔑 SSH 키 복사 명령어"
echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
echo ""
echo "cat ~/.ssh/id_ed25519 | pbcopy"
echo ""
echo "(클립보드에 자동 복사됩니다)"
echo ""
echo "════════════════════════════════════════════════════════════════"
